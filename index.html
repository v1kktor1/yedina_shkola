<!DOCTYPE html>
<html lang="ua">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <meta name="theme-color" content="#1b1a1f">
    <title>Єдина Школа</title>

    <style>

        /* Создаем жесткую подложку (серый фон) для всей верхней части */
body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 155px; /* Высота шапки + календаря */
    background: #1b1a1f; /* Тот самый серый фон темы */
    z-index: 5; /* Лежит поверх контента, но под текстом меню */
}

/* Убираем лишние отступы у body, они теперь мешают */
body {
    margin: 0;
    font-family: 'Roboto', sans-serif;
    background: #1b1a1f; 
    color: #cfcfff;
    overflow: hidden; /* Важно! Скроллится только страница расписания */
    padding-top: 0; /* Убираем старый отступ */
}
       .top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: transparent; /* Фон теперь дает body::before */
    position: fixed; 
    top: 40px; /* Отступ под системную строку (челку) */
    width: 98.5%; 
    max-width: 480px; 
    z-index: 10; /* Поверх подложки */
}

        .profile-circle{width:35px;height:35px;background:#022ab0;border-radius:50%;display:flex;justify-content:center;align-items:center;font-weight:700;color:#000000;font-size:20px}
        .month-title{color:#cfcfff;font-size:23px;font-weight:1000; letter-spacing: 1px;}
        .calendar-icon svg{width:35px;height:35px;fill:#cfcfff}

        

        /* === Calendar Scroll === */
        .days-scroll {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
    scrollbar-width: none;
    
    position: fixed;
    top: 90px;
    left: 50%;
    transform: translateX(-50%);
    width: 98.5%;
    max-width: 500px;
    z-index: 10;
    
    padding: 1px 0;
    touch-action: pan-x;
}
        .days-scroll::-webkit-scrollbar{display:none}


        /* Фиксированный контейнер под top-bar */
        .day{flex:0 0 auto;width:63px;text-align:center;cursor:pointer;color:gray;padding-bottom:3px; transition: color .2s, border-bottom .2s;}
        .day.active{color:#bdc3ff;font-weight:700;border-bottom:2px solid #bdc3ff}
        .day p{margin:0;font-size:20px;font-weight: 1000;}
        .day span{font-size:20px; font-weight: 1000;}

        /* === Schedule Pages === */
        .page-wrapper {
    position: relative;
    height: 100vh;
    width: 100%;
    overflow: hidden;
    /* Убираем тут padding, переносим его внутрь schedule-page */
    padding-top: 0; 
}

.schedule-page {
    position: absolute;
    width: 100%;
    height: 100%; /* На всю высоту экрана */
    top: 0;
    left: 0;
    overflow-y: auto; /* Скроллится именно этот блок */
    opacity: 0;
    pointer-events: none;
    transform: translateX(100%);
    transition: transform .35s, opacity .35s;
    
    /* === ВОТ ГЛАВНОЕ ИСПРАВЛЕНИЕ === */
    /* Отступ сверху, чтобы 1-й урок вылез из-под календаря */
    padding-top: 160px; 
    /* Отступ снизу под меню */
    padding-bottom: 80px; 
    box-sizing: border-box;
    z-index: 1; /* Уроки находятся в самом низу слоев */
}
        .schedule-page.active{opacity:1;pointer-events:auto;transform:translateX(0)}
        .schedule-page.no-scroll{overflow-y:hidden}

        /* === Lesson Card (Main Screen) === */
        .lesson{background:#01004f;margin:10px 8px;border-radius:10px;overflow:hidden;cursor:pointer;}
        .lesson-top{background:#bdc3ff;padding:6px;display:flex;align-items:center;}
        .lesson-num-circle{width:27.5px;height:27.5px;border-radius:35%;background:#00196c;color:#bdc3ff;display:flex;align-items:center; margin-right: 5px; justify-content:center;font-size:17px;font-weight:1000;}
        .lesson-top-title{color:#00196c;font-size:20px;font-weight:1000;}
        .hw{margin-left:auto;background:#fbb668;padding:6px 7px;border-radius:8px;font-size:13px;color:#00196c;font-weight:700;}
        .lesson-content{background:#424242;padding:7.5px;}
        .lesson-desc{font-size:16px;color:#cfcfff;margin-bottom:0;font-weight:500; letter-spacing: 1px}
        .lesson-footer{font-size:17px;color:#bdc3ff;display:flex;align-items:center;margin-top:18px;border-top:1px solid #555;padding-top:10px; font-weight: 1000; letter-spacing: 1.25px;}
        .lesson-footer svg{width:25px;height:25px;margin:0 3px;fill:#bdc3ff;}

        /* === Bottom Nav === */
        .bottom-nav { 
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    /* Обмежуємо ширину так само, як і у шапки, щоб на ПК було рівно */
    max-width: 480px; 
    
    background: #1e1d22;
    display: flex;
    justify-content: center; /* Центруємо картинку по горизонталі */
    align-items: flex-end;   /* Притискаємо до низу */
    
    /* Дозволяємо висоті підлаштовуватись під картинку */
    height: auto; 

    /* ГЛАВНЕ: піднімаємо шар вище за уроки (у них z-index: 1) та підкладку (z-index: 5) */
    z-index: 100; 
}

.footer-img img { 
    height: 85px; /* Висота картинки */
    width: auto; 
    object-fit: contain; 
    display: block; 
    opacity: 0.9; 
    pointer-events: none; /* Щоб картинку не можна було виділити чи перетягнути */
}

        /* === Lesson Panel (Detail View) */
        .lesson-panel {position: fixed;top: 0;left: 0;width: 100%;max-width: 480px;height: 100vh;background:#1b1a1f;color:#bdc3ff;z-index:500;display:flex;flex-direction:column;transform: translateX(100%);transition: transform .35s ease;}
        .lesson-panel.open {transform: translateX(0);}
        
        .lesson-panel-header{display:flex;align-items:center;padding:12px 12px 12px 4px;font-size:18px;font-weight:700;background:#1b1a1f;}
        .back-btn{width:38px;height:38px;border-radius:12px;background:none;display:flex;justify-content:center;align-items:center;border:none;cursor:pointer;padding: 0; color: #d1d1ff; font-size: 26px; line-height: 1;}
        .back-btn svg{width:35px;height:35px; stroke:#bdc3ff; fill: none;}
        .lesson-panel-header .title{flex:1;text-align:center;font-size:25px;font-weight:1000;}
        .lesson-panel-header .empty-spacer{width:38px;}


        .lesson-panel-content{padding:0 12px;font-size:14px;line-height:1.35;flex-grow:1;overflow-y:auto}

        /* Lesson Info Block (Teacher/Time/Room) */
        .lesson-info-block{margin:12px 0;background:#424242;border-radius:10px;padding:14px;color:#bdc3ff}
        .lesson-info-top{display:flex;gap:10px;align-items:center;margin-bottom:8px}
        .lesson-avatar{width:42px;height:42px;border-radius:50%;background:#49d7bd;color:#000000;display:flex;justify-content:center;align-items:center;font-size:25px;font-weight:700}
        .teacher-info{flex:1}
        .teacher-name{font-weight:1000;color:#bdc3ff;font-size:20px;}
        .teacher-role{font-size:15px;color:#a09fa4; letter-spacing: 0.80px;}
        
        .lesson-time-room{display:flex;justify-content:center;gap:150px;}
        .lesson-time-room .inline{display:flex;align-items:center;gap:6px;font-size:16px; letter-spacing: 1px; font-weight: 1000;}
        .lesson-time-room svg{width:15px;height:15px;fill:#a9a8ff; margin-right:0;}
        
        .lesson-theme{font-size:16px;margin-top:10px; line-height:1.35; color: #bdc3ff; letter-spacing: 1px; font-weight: 1000;}
        .lesson-theme b{color:#bdc3ff;font-weight:500}

        /* Homework Block*/
        .hw-block{background:#424242;margin:14px 0 0;border-radius:10px;overflow:hidden;}
        .hw-head{background:#fbb668;color:#100f5b;font-weight:1000;font-size:20px;padding:7px 8px;display:flex;justify-content:space-between;align-items:center}
        .hw-head svg{width:20px;height:20px;fill:#022ab0}
        .hw-card{padding:5px 5px;display:flex;gap:5px;font-size:16px;color:#bdc3ff;}
        .hw-card:last-child {border-bottom: none;}
        .hw-card svg{width:25px;height:25px;fill:#cfcfff;flex-shrink:0; margin-right: 5px;}
        .hw-card.files{color:#bdc3ff; font-weight: 1000; letter-spacing: 1px;}
        .hw-card.files svg{fill:#bdc3ff;}

        .empty-message{text-align:center;color:#bdc3ff;font-size:20px;font-weight:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;height:80%;position:fixed;width:100%;bottom:75px; letter-spacing: 1.25px;}
        .empty-message img{width:400px;height:350px;}

        *:focus {outline: none !important;}
        * {-webkit-tap-highlight-color: transparent;}

        * {scrollbar-width: none;}
        *::-webkit-scrollbar {display: none;}

        #splash {position: fixed;inset: 0;background: #000;display: flex;justify-content: center;align-items: center;z-index: 9999;overflow: hidden;}
        #splash img {max-width: 100vw;max-height: 100vh;width: 100%;height: auto;object-fit: contain; user-select: none;}
        #splash.hide {opacity: 0;transition: opacity .5s ease;pointer-events: none;} 

        .cls-link {color: #bdc3ff;text-decoration: none;}

    </style>
</head>

<body>

    <div id="splash">
      <img alt="" src="assets/splash1.jpg">
    </div>

    <div class="panel">
        <div class="top-padding"></div>
        <div class="top-bar">
            <div class="profile-circle">В</div>
            <div class="month-title" id="monthTitle">Листопад 2025</div>
            <div class="calendar-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 
                        2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 
                        16H5V10h14v10zm0-12H5V6h14v2z"/>
                </svg>
            </div>
        </div>

        <div class="days-scroll" id="daysScroll"></div>

        <div class="page-wrapper" id="wrapper"></div>

        <div class="bottom-nav">
            <div class="footer-img">
                <img src="assets/footer.jpg" alt="">
            </div>
        </div>

        <div id="lessonPanel" class="lesson-panel">
            <div class="lesson-panel-header">
                <button id="backButton" class="back-btn">
                    <svg viewBox="0 0 24 24"><path d="M15 6l-6 6 6 6" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </button>
                <span id="panelTitle" class="title"></span>
                <div class="empty-spacer"></div>
            </div>

            <div class="lesson-panel-content" id="panelContent"></div>
        </div>

    </div>

    <script>
        // Скрипт для роботи календаря
        const daysScroll = document.getElementById("daysScroll");
        const wrapper = document.getElementById("wrapper");

        // ЗМІНЕНІ ЗНАЧЕННЯ
        const startDay = 25;
        const endDay = 60; // До 30 грудня (25-30 листопад = 6 днів, 1-30 грудень = 30 днів. 36 днів. 25 + 36 = 61. Тому кінцевий індекс 60)
        const activeDayIndex = 6; // Цей індекс більше не використовується для визначення активного дня, активним є 30
        const daysOfWeek = ['Нд', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];
        const monthMap = { 11: "Листопад 2025", 12: "Грудень 2025" };

        const scheduleData = {
            // Розклад на 27 листопада (Чт), прибрано 8-й урок
            "27": [
                {
                    "num": 1,
                    "title": "Мистецтво",
                    "hw": true,
                    "desc": "- Театр реалізму.",
                    "time": "08:30",
                    "room": "15",
                    "teacher": "Соломія Андріївна",
                    "hw_text": "Виконати замальовки масок"
                },

                {
                    "num": 2,
                    "title": "Геометрія",
                    "hw": false,
                    "desc": "- Розв’язування вправ, к/р",
                    "time": "09:25",
                    "room": "25",
                    "teacher": "Олександр Іванович",
                    "hw_text": ""
                },

                {
                    "num": 3,
                    "title": "Історія: Україна і світ",
                    "hw": true,
                    "desc": "- Вогнища військово-політичних конфліктів",
                    "time": "10:20",
                    "room": "23",
                    "teacher": "Діана Валеріївна",
                    "hw_text": "Опрацювати параграф 15, просканувавши QR-код, стор. 15"
                },

                {
                    "num": 4,
                    "title": "Українська мова",
                    "hw": false,
                    "desc": "- Тему не вказано",
                    "time": "11:20",
                    "room": "22",
                    "teacher": "Наталія Петрівна",
                    "hw_text": ""
                },

                {
                    "num": 5,
                    "title": "Фізична культура",
                    "hw": false,
                    "desc": "- Тему не вказано",
                    "time": "12:20",
                    "room": "спортзал",
                    "teacher": "Юрій Віталійович",
                    "hw_text": ""
                },

                {
                    "num": 6,
                    "title": "Хімія",
                    "hw": true,
                    "desc": "- Неметали. Загальна характеристика неметалів. Фізичні властивості",
                    "time": "13:15",
                    "room": "41",
                    "teacher": "Марія Ігорівна",
                    "hw_text": "Конспект параграф 14"
                },

                {
                    "num": 7,
                    "title": "Біологія",
                    "hw": true,
                    "desc": "- Тему не вказано",
                    "time": "14:20",
                    "room": "25",
                    "teacher": "Алла Сергіївна",
                    "hw_text": "Пройти тест www.classtime.com/code/ZIC8PX"
                }
            ],

            // Розклад на 28 листопада (Пт)
            "28": [
                {
                    "num": 1,
                    "title": "Мистецтво",
                    "hw": true,
                    "desc": "- Театр реалізму.",
                    "time": "08:30",
                    "room": "15",
                    "teacher": "Соломія Андріївна",
                    "hw_text": "Створити ескіз театральної сцени"
                },

                {
                    "num": 2,
                    "title": "Іноземна мова (англійська)",
                    "hw": false,
                    "desc": "- Тема уроку не вказана",
                    "time": "09:25",
                    "room": "30",
                    "teacher": "Ольга Степанівна",
                    "hw_text": ""
                },

                {
                    "num": 3,
                    "title": "Фізика",
                    "hw": true,
                    "desc": "- Тема уроку не вказана",
                    "time": "10:20",
                    "room": "32",
                    "teacher": "Михайло Лукачович",
                    "hw_text": "Підг. захисту проектів"
                },

                {
                    "num": 4,
                    "title": "Астрономія",
                    "hw": true,
                    "desc": "- Карликові планети та малі тіла Сонячної системи",
                    "time": "11:20",
                    "room": "18",
                    "teacher": "Роман Богданович",
                    "hw_text": "§ 11."
                },

                {
                    "num": 5,
                    "title": "Українська мова",
                    "hw": false,
                    "desc": "- Тему не вказано",
                    "time": "12:20",
                    "room": "22",
                    "teacher": "Наталія Петрівна",
                    "hw_text": ""
                },

                {
                    "num": 6,
                    "title": "Фізична культура",
                    "hw": false,
                    "desc": "- Тему не вказано",
                    "time": "13:15",
                    "room": "спортзал",
                    "teacher": "Юрій Віталійович",
                    "hw_text": ""
                },

                {
                    "num": 7,
                    "title": "Година спілкування",
                    "hw": false,
                    "desc": "- Тему не вказано",
                    "time": "14:20",
                    "room": "25",
                    "teacher": "Світлана Михайлівна",
                    "hw_text": ""
                }
            ],

            "1": [
                 {
                    "num": 1,
                    "title": "Українська література",
                    "hw": false,
                    "desc": "- П’єси В. Винниченка, М. Куліша, І. Дніпровського, І. Ко- черги, Я. Мамонтова на перетині традицій «корифеїв», зарубіжної класики і модерної драматургії.",
                    "time": "08:30",
                    "room": "33",
                    "teacher": "Сивч Леся Миколаївна",
                    "hw_text": ""
                },
                {
                    "num": 2,
                    "title": "Географія",
                    "hw": true,
                    "desc": "-  Біосфера та біологічні ресурси",
                    "time": "09:25",
                    "room": "41",
                    "teacher": "Світлана Михайлівна",
                    "hw_text": "§ 15. Завдання і вправи параграфу"
                },
                {
                    "num": 3,
                    "title": "Українська література",
                    "hw": false,
                    "desc": "- Автономність, відкритість зарубіжним традиціям",
                    "time": "10:20",
                    "room": "21",
                    "teacher": "Сивч Леся Миколаївна",
                    "hw_text": ""
                },
                {
                    "num": 4,
                    "title": "Українська мова",
                    "hw": false,
                    "desc": "- Складні випадки кваліфікації другорядних членів речення.",
                    "time": "11:20",
                    "room": "23",
                    "teacher": "Сивч Леся Миколаївна",
                    "hw_text": ""
                },
                {
                    "num": 5,
                    "title": "Алгебра",
                    "hw": false,
                    "desc": "- Логарифмічні рівняння та нерівності. Розв’язування вправ",
                    "time": "12:20",
                    "room": "34",
                    "teacher": "Решетар Мар'яна",
                    "hw_text": ""
                },
                {
                    "num": 6,
                    "title": "Хімія",
                    "hw": true,
                    "desc": "- Алотропія. Алотропні модифікації неметалічних елементів.",
                    "time": "13:15",
                    "room": "43",
                    "teacher": "Хиля Олександра",
                    "hw_text": "Конспектувати параграфи 14, 15, виконати завдання 102 - 113"
                },
            ],
            // Додайте тут інші дні грудня, якщо потрібно
        };


        /* === Генерація календаря === */
        for (let i = startDay; i <= endDay; i++) {
            const div = document.createElement("div");
            div.className = "day";

            let dayOfMonth, dayIndex;
            let currentMonth = 11;
            let dayKey = i.toString();

            if (i <= 30) { 
                dayOfMonth = i;
                dayIndex = (i + 5) % 7; 
                dayIndex = (i + 4) % 7; 
                dayIndex = (i + 4) % 7; 
                dayIndex = (i + 5) % 7;

            } else { 
                dayOfMonth = i - 30;
                currentMonth = 12;
                dayKey = dayOfMonth.toString();
                dayIndex = (i + 5) % 7;
            }
            
            div.dataset.day = dayOfMonth.toString(); // Для сторінок розкладу - день місяця

            div.innerHTML = `<p>${daysOfWeek[dayIndex]}</p><span>${dayOfMonth}</span>`;

            // Активний день: 30-й елемент календаря, тобто i=30
            if (i === 30) { 
                div.classList.add("active");
                document.getElementById("monthTitle").textContent = monthMap[11];
            } else if (i === activeDayIndex) {
                 // Тут нічого не робимо, оскільки активний день це 30.
            }

            // Оновлення місяця у заголовку, якщо ми переходимо в грудень
            if (i > 30 && i === 31) { 
                document.getElementById("monthTitle").textContent = monthMap[12];
            }
            
            daysScroll.append(div);
        }

        /* === Переключення сторінок (Transition) та прокрутка дня === */
        function switchTo(day) {
            const newPage = document.querySelector(`.schedule-page[data-day='${day}']`);
            const oldPage = document.querySelector(".schedule-page.active");
            if (!newPage || newPage === oldPage) return;

            document.querySelector(`.day[data-day='${day}']`)
                .scrollIntoView({ inline: "center", behavior: "smooth" });

            const direction = day > +oldPage.dataset.day ? "left" : "right";
            newPage.style.transform = direction === "left" ? "translateX(100%)" : "translateX(-100%)";
            newPage.classList.add("active");

            requestAnimationFrame(() => {
                newPage.style.transform = "translateX(0)";
                oldPage.style.transform = direction === "left" ? "translateX(-100%)" : "translateX(100%)";
                oldPage.classList.remove("active");
            });

            document.querySelector(".day.active")?.classList.remove("active");
            document.querySelector(`.day[data-day='${day}']`).classList.add("active");

            // Оновлення заголовка місяця при перемиканні
            const month = day <= 30 && day >= 25 ? 11 : 12;
            document.getElementById("monthTitle").textContent = monthMap[month];
        }

        daysScroll.addEventListener("click", e => {
            const d = e.target.closest(".day");
            if (d) {
                // Використовуємо dayOfMonth, який знаходиться у div.dataset.day
                switchTo(+d.dataset.day);
            }
        });

        /* === Рендер карток уроків на головному екрані === */
        function createLessonHTML(l) {
            return `
                <div class="lesson" data-full='${JSON.stringify(l)}'>
                    <div class="lesson-top">
                        <div class="lesson-num-circle">${l.num}</div>
                        <div class="lesson-top-title">${l.title}</div>
                        ${l.hw ? '<div class="hw">ДЗ</div>' : ''}
                    </div>
                    <div class="lesson-content">
                        <div class="lesson-desc">${l.desc.substring(0, 100)}...</div>
                        <div class="lesson-footer">
                            ${l.time}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"/>
                            </svg>
                            ${l.room}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderPages(data) {
            let html = "";

            const schoolImageHTML  = "<img alt='' src='assets/school.png'>"

            // Встановлюємо активний день на 30-те (індекс i=30)
            const actualActiveDay = 30;

            for (let i = startDay; i <= endDay; i++) {
                let dayOfMonth;
                let dayKey; 
                let pageDay;
                let isNov = true;

                if (i <= 30) {
                    dayOfMonth = i;
                    dayKey = i.toString();
                    pageDay = i.toString();
                } else {
                    dayOfMonth = i - 30;
                    dayKey = dayOfMonth.toString(); // 1 для 1 грудня і т.д.
                    pageDay = dayOfMonth.toString();
                    isNov = false;
                }

                // В розкладі 29, 30 листопада немає даних, тому використовуємо dayOfMonth для відображення
                // і dayKey для пошуку розкладу (що також буде dayOfMonth для грудня, або повний день для листопада)
                const scheduleIndex = isNov ? i.toString() : dayOfMonth.toString(); 

                // Визначаємо день тижня для перевірки на вихідний
                const dayIndex = (i + 5) % 7; 
                const isWeekend = dayIndex === 0 || dayIndex === 6; // 0-Нд, 6-Сб

                const lessons = data[scheduleIndex];
                let block = "";
                let scrollClass = ""; 

                if (lessons && lessons.length > 0) {
                    let lessonsHTML = lessons.map(createLessonHTML).join("");
                    // Вставка промо-банера ВИДАЛЕНА
                    block = lessonsHTML;
                } else {
                    scrollClass = "no-scroll"; 
                    const message = isWeekend ? "Вихідний" : "Розклад за цей період відсутній";
                    
                    block = `
                        <div class="empty-message">
                            ${schoolImageHTML}
                            <p>${message}</p>
                        </div>
                    `;
                }

                html += `
                    <div class="schedule-page ${i === actualActiveDay ? "active" : ""} ${scrollClass}" data-day="${pageDay}">
                        ${block}
                    </div>
                `;
            }

            wrapper.innerHTML = html;
        }

        /* === Функція для відображення панелі уроку (ДЕТАЛЬНИЙ ВИД З ДЗ) === */
        document.addEventListener("click", function(e) {
            const lesson = e.target.closest(".lesson");
            if (!lesson) return;

            const data = JSON.parse(lesson.dataset.full);

            // Відкриваємо лише, якщо є ДЗ (за Вашим завданням)
            if (!data.hw) return;

            // Встановлення даних
            const title = data.title;
            const teacher = data.teacher || 'Не вказано';
            const room = data.room || '-'; 
            const startTime = data.time || '08:30';
            
            // Логіка для часу закінчення
            const [h, m] = startTime.split(':').map(Number);
            const endTime = new Date(0, 0, 0, h, m + 45); // Припускаємо тривалість уроку 45 хвилин
            const timeEnd = `${('0' + endTime.getHours()).slice(-2)}:${('0' + endTime.getMinutes()).slice(-2)}`;
            
            const lessonTheme = data.desc.replace(/^- /, '') || 'Тема не вказана';
            const hwText = data.hw_text || 'Завдання відсутнє.';
            
            // Використовуємо фіксовану дату (від 11.2025)
            const hwDate = `(від (11.2025))` 

            document.getElementById("panelTitle").textContent = title;

            // Генерація HTML
            const lessonContentHTML = `
                <div class="lesson-info-block">
                    <div class="lesson-info-top">
                        <div class="lesson-avatar">${teacher.charAt(0)}</div>
                        <div class="teacher-info">
                            <div class="teacher-name">${teacher}</div>
                            <div class="teacher-role">Вчитель</div>
                        </div>
                    </div>
                    <div class="lesson-time-room">
                        <div class="inline">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"/></svg>
                            ${room}
                        </div>
                        <div class="inline">
                            <svg class="icon clock-pas" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="8" fill="none" stroke="#a9a8ff" stroke-width="2"/>
                                <circle cx="12" cy="12" r="1.3" fill="#a9a8ff"/>
                                <line x1="12" y1="12" x2="12" y2="7" stroke="#a9a8ff" stroke-width="2" stroke-linecap="round"/>
                                <line x1="12" y1="12" x2="16" y2="12" stroke="#a9a8ff" stroke-width="1.6" stroke-linecap="round"/>
                            </svg>
                            ${startTime} – ${timeEnd}
                        </div>
                    </div>
                    <div class="lesson-theme">
                        <b>Тема уроку:</b> ${lessonTheme}
                    </div>
                </div>

                <div class="hw-block">
                    <div class="hw-head">
                        ДЗ на цей урок ${hwDate}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>
                    </div>

                    <div class="hw-card">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1"/></svg>
                        ${hwText}
                    </div>

                    <div class="hw-card files">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                        Файли відсутні
                    </div>
                </div>
            `;

            document.getElementById("panelContent").innerHTML = lessonContentHTML;
            document.getElementById("lessonPanel").classList.add("open");
        });

        document.getElementById("backButton").addEventListener("click", () => {
            document.getElementById("lessonPanel").classList.remove("open");
        });
        
        window.addEventListener("load", () => {
            renderPages(scheduleData);

            setTimeout(() => {
                document.getElementById("splash").classList.add("hide");

                setTimeout(() => {
                    document.getElementById("splash").remove();

                    // Прокрутка до активного дня (30 листопада)
                    document.querySelector(".day.active")?.scrollIntoView({
                        inline: "center",
                        behavior: "smooth"
                    });
                }, 0);
            }, 1500);
        });
    </script>
</body>
</html>